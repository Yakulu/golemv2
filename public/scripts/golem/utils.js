// Generated by CoffeeScript 1.8.0
(function() {
  golem.utils = {
    title: function(suffix) {
      return "" + golem.config.locale.TITLE + " - " + suffix;
    },
    sendNotificationHTML5: function(title, options, callback) {
      var _alert, _send;
      if (options.timeout == null) {
        options.timeout = 5;
      }
      _send = function() {
        var notif;
        notif = new Notify(title, options);
        notif.show();
        if (callback) {
          return callback();
        }
      };
      _alert = function() {
        alert("" + title + " : " + options.body);
        if (callback) {
          return callback();
        }
      };
      if (!Notify.isSupported) {
        return _alert();
      } else {
        if (Notify.needsPermission) {
          return Notify.requestPermission(_send, _alert);
        } else {
          return _send();
        }
      }
    },
    sendNotification: function(config, callback) {
      var gnm, timeout;
      timeout = config.timeout;
      config.timeout = (timeout || (timeout === false) ? timeout : 10);
      gnm = golem.notifications.model;
      gnm.counter += 1;
      gnm.items[gnm.counter] = config;
      if (callback) {
        return callback();
      }
    },
    handlePouchError: function(err, res, callbackSuccess, callbackAlways) {
      if (err) {
        golem.notifications.helpers.errorUnexpected({
          body: err
        });
      } else {
        callbackSuccess(err, res);
      }
      if (callbackAlways) {
        return callbackAlways();
      }
    }
  };

}).call(this);

//# sourceMappingURL=utils.js.map
